---
title: "Pr√°ctica de la **Unidad 3. Manipulaci√≥n de datos en R**"
subtitle: "Del Curso introductorio al lenguaje de programaci√≥n R orientado al an√°lisis cuantitativo en Ciencias Sociales"
author: "Por Sarah√≠ Aguilar"
output:
  html_document:
    toc: yes
    toc_float: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

<br/>

[üè†‚Ü© De vuelta a la p√°gina principal del curso](index.html)

<br/>

## Inicio

> #### **üöÄ Objetivo de la unidad** 
 Que el estudiante sea capaz de importar y exportar bases de datos de y en diferentes formatos, as√≠ como ejecutar transformaciones b√°sicas sobre estas utilizando data frames y el paquete data.table. 

<br/>

**Nota importante:** Los siguientes m√≥dulos pr√°cticos son lineales. 

<br/>

## 2.1. Instalando y cargando paquetes

* **Instalando un paquete**
```{r}
# install.packages("ggplot2")
```
* **Cargando un paquete**
```{r}
library(ggplot2)
```

## 2.2. Creando data frames desde 0
Recuerde que un data frame se compone de vectores. En el siguiente bloque de c√≥digo, se instancian dos vectores inicialmente, 
```{r}
x <- 1:10
y <- 3 + sin(x) 
df <- data.frame(x=x, sin_of_x=y) # Los vectores que compondr√°n un data frame deben ser del mismo tama√±o
```


## 2.3. Conociendo a un data frame
<center>
![](https://media1.tenor.com/images/3b07d93145b18d29ade0ffa15f5558c6/tenor.gif?itemid=7517603)
</center>

</br>

La funci√≥n ```head``` devuelve las primeras 6 observaciones (filas) de un data frame.
```{r}
head(df)
```

</br>

La funci√≥n ```tail``` devuelve las √∫ltimas 6 observaciones de un data frame. 
```{r}
tail(df)
```

</br>

Tanto ```head()``` como ```tail()```, pueden recibir el argumento adicional ```n```, que indicar√° cu√°ntas observaciones devuelvolver√°. 
```{r}
tail(df, n=2) # Imprime las dos √∫ltimas observaciones
```

</br>

La funci√≥n ```colnames()``` devuelve los nombres de las variables de un data frame. 
```{r}
colnames(df)
```

</br>

La funci√≥n ```length()``` devuelve el n√∫mero de vectores que componen a un data frame. El n√∫mero de vectores ser√° entonces igual al n√∫mero de variables (columnas). 
```{r}
length(df)
```

</br>

La funci√≥n ```dim()``` devuelve un vector de tama√±o 2 con las dimensiones del data frame. En la primer posici√≥n del vector, se devolver√° el n√∫mero de observaciones, y en la segunda posici√≥n, el n√∫mero de variables.  
```{r}
dim(df)
```

</br>

Recuerde que un data frame es la versi√≥n bidimensional de una lista. 
```{r}
typeof(df)
```

</br>

La funci√≥n ```str()``` devuelve el tipo y tama√±o de cada vector que compone a un data frame. A esto se le conoce como la "estructura" de un data frame. 
```{r}
str(df)
```

</br>

La funci√≥n ```summary()``` devuelve algunas de las medidas de dispers√≥n de las variables num√©ricas de un data frame. 
```{r}
summary(df)
```

</br>

## ü§∏ Ejercicio #2
1. Cree un data frame que contenga el nombre, el primer apellido, la edad y su edad dentro de 10 a√±os de cinco personas. Nombre las columnas del data frame acorde.
2. Instancie un objeto que guarde las dimensiones del data frame. 
3. Imprima la estructura del data frame para obtener las propiedades (tipo y tama√±o) de todos los vectores que lo conforman. 
4. Obtenga el valor m√≠nimo, el valor en el primer cuartil y el valor mediano de las variables num√©ricas del data frame. 
5. Calcule el promedio de las dos √∫ltimas columnas.

</br> 

## 2.3. Extrayendo datos de un data frame

Recuerde c√≥mo se ve√≠a nuestro data frame completo.
```{r}
print(df)
```

</br>

Podemos extraer datos del data frame utilizando **√≠ndices**. En el siguiente caso, extraemos el dato de la variable #2 de la observaci√≥n #1. 
```{r}
df[1, 2]
```

En el siguiente caso, extraemos el dato de la variable #2 de la observaci√≥n #10. 
```{r}
df[10, 2]
``` 

</br>

Podemos extraer observaciones completas.
```{r}
df[10, ]
```

</br>

Podemos extraer el vector que compone una variable. En el siguiente caso, extraemos la variable #2. 
```{r}
df[, 2]
```

</br>

Tambi√©n, podemos extraer el vector que compone una variable utilizando el nombre de la variable en lugar de su √≠ndice. 
```{r}
df[, "sin_of_x"]
```

</br>

Finalmente, igual podemos extraer el vector que compone una variable utilizando ```$``` + el nombre de la variable.
```{r}
df$sin_of_x
```
üí° He aqu√≠ la importancia de que los nombres de una variable no tengan espacios y utilicen guiones bajos.

</br>

Podemos extraer una variable conservando el formato de un data frame utilizando √∫nicamente el √≠ndice o el nombre de la variable dentro de los corchetes:  

```{r}
df[2]
```


```{r}
df["sin_of_x"]
```


</br>

Observe c√≥mo la estructura cambia. 

```{r}
str(df[, 2]) # Este es un vector
str(df[2]) # Este es un data frame
```

La forma en que extraigamos el contenido de una variable, depender√° del uso que querramos darle. No existe una forma "correcta" de hacerlo.

</br> 

De igual forma, podemos extraer variabes de un data frame con la funci√≥n ```subset()```.

```{r}
subset(df, select=sin_of_x) 
subset(df, select=2)
```

