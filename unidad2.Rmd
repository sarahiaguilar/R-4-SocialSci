---
title: "Pr√°ctica de la **Unidad 2. Conceptos b√°sicos de programaci√≥n en R**"
subtitle: "Del Curso introductorio al lenguaje de programaci√≥n R orientado al an√°lisis cuantitativo en Ciencias Sociales"
author: "Por Sarah√≠ Aguilar"
output:
  html_document:
    toc: yes
    toc_float: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

<br/>

[üè†‚Ü© De vuelta a la p√°gina principal del curso](index.html)

<br/>

## Inicio

> #### **üöÄ Objetivo de la unidad**  
 Que el estudiante reconozca los conceptos b√°sicos de programaci√≥n y sus casos de uso pr√°cticos b√°sicos.

<br/>

üí° La funci√≥n ```print()``` imprime el valor que contiene el objeto ubicado entre los par√©ntesis. 

üí° ```n:y``` genera una serie de n√∫meros consecutivos entre ```n``` y ```y```.

</br>

## 2.1. Instanciando objetos con vectores

Con valores l√≥gicos
```{r}
a <- TRUE

mi_variable <- c(FALSE, TRUE)
```
<br/>
La variable ```b``` guardar√° un vector l√≥gico a partir del resultado del resultado de una operaci√≥n l√≥gica.
```{r}
b <- 3 == 3

print(b)
```

<br/>
Con cadenas de caract√©res
```{r}
x <- "¬°Hola, mundo!"

print(x)
```
<br/>
```{r}
y <- c("2", "3", "dos", "tres")

print(y)
```

<br/>
Con enteros
```{r}
s <- 42L

print(s)
```
<br/>
```{r}
t <- c(2L, 3L, NA)

print(t)
```

<br/>
Con doubles (puntos flotantes)
```{r}
i <- 42

print(s)
```
<br/>
```{r}
j <- c(sqrt(2) ^ 2, 1, Inf)

print(t)
```

<br/>
Con listas
```{r}
ages <- list(22, 23, 22, 21, 25)

print(ages)
```
<br/>
```{r}
list_of_lists <- list("arroz", "pasta", list("manzanas", "kiwis", "uvas"), c("leche", "huevo", "mantequilla", 3))

print(list_of_lists)
```

<br/>

## 2.2. Conociendo a un objeto
<center>
![](https://media1.tenor.com/images/3b07d93145b18d29ade0ffa15f5558c6/tenor.gif?itemid=7517603)
</center>

Las siguientes funciones permiten evaluar si un vector es de un tipo espec√≠fico.
```{r}
is.logical(TRUE)
```

<br/>
```{r}
is.character("¬°Hola, mundo!")
```

<br/>
```{r}
is.integer(42L)
```

<br/>
```{r}
is.double(2)
```

<br/>
```{r}
is.na(NA)
```

<br/>
```{r}
is.nan(NaN)
```

<br/>
```{r}
is.infinite(-Inf)
```

<br/>
```typeof``` es una funci√≥n que nos permite saber el tipo de vector.
```{r}
typeof(x)
```

<br/>
```length``` es una funci√≥n que nos permite saber el tama√±o de un vector.
```{r}
length(a)
```

<br/>
Para acceder al contenido de un vector en una posici√≥n en particular. Utilice ```[]``` y la posici√≥n (el √≠ndice) de la que desea obtener el contenido.

üí° Las posiciones (√≠ndices) siempre comienzan en 1 y terminanan en *n*, donde *n* es el tama√±o del vector. En la mayor√≠a de los lenguajes de programaci√≥n comienzan en 0.
```{r}
print(y[1])
```

<br/>
Puede acceder al contenido de varias posiciones utilizando un vector de √≠ndices.
```{r}
print(y[1:2])
```
```{r}
print(y[c(1, 3)])
```

<br/>
De la misma forma, puede editar el contenido de un vector. 
```{r}
y[1:2] <- c(5, 6)
print(y)
```

<br/>

## 2.3. Convirtiendo el tipo de un vector
<center>
![](https://i.pinimg.com/originals/a5/22/6f/a5226fb778ba07b4a5cc9e18cc7ccc39.gif)
</center>

Las siguientes funciones permiten cambiar (convertir) el tipo de un vector. 
```{r}
x <- "TRUE"
as.logical(x)
```

<br/>
```{r}
x <- 1
as.character(x)
```

<br/>
```{r}
x <- "3"
as.numeric(x)
```

<br/>

## 2.4. Operaciones con vectores

El siguiente bloque de c√≥digo multiplica dos objetos previamente instanciados guardando el valor resultante en una tercera variable. 

<br/>
```{r}
a <- 1
factor_exp <- 300
valor_real <- a * factor_exp
print(valor_real)
```

<br/>
Instanciamos un vector. 
```{r}
x <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)  
```

<br/>
üí° Recuerde que las operaciones se ejecutan elemento por elemento.
```{r}
x + 2
```

<br/>
```{r}
sqrt(x)
```

<br/>
```{r}
x * c(2, 4, 8, 10, 12)
```

<br/>
```{r}
x * c(2, 4, 2)
```

<br/>
```{r}
x * c(10, 20, 30, 40, 50, 60, 70, 80, 90, 100)
```

</br>
Observe que algunas operaciones aritm√©ticas se ejectutan de forma matricial.
```{r}
sum(x)
```

</br>
```{r}
mean(x)
```

</br>
```{r}
median(x)
```

</br>
```{r}
min(x)
```

</br>
```{r}
max(x)
```

</br>
```{r}
sample(x, size=5)
```

</br>

## üèã Ejercicio #1
1. Cree un vector que contenga la numeraci√≥n consecutiva del 1 al 50. Suponga que estas son la edades recolectadas en un censo de poblaci√≥n en el poblado Z.
2.  El factor de expansi√≥n de cada uno de los individuos censados en el poblado Z es de 3.5. Cree un objeto que guarde el valor de este factor de expansi√≥n.
3. Calcule la media de edad de la poblaci√≥n. 

```{r}
ages <- 1:50
ef <- 3.5
m <- sum(ages*ef)/(50*ef)
```

<br/>

## 2.5. Condicionando

El siguiente bloque de c√≥digo instancia un objeto con un vector unitario con valor 5. Despu√©s, con una instrucci√≥n ```if```, eval√∫a si el valor del objeto es negativo. Si el valor del objeto es negativo, lo multiplica por -1.
<br/>
```{r message=TRUE}
num <- -5
if (num < 0) {
  print("El n√∫mero es negativo.")
  
  print("Lo volver√© positivo.")
  num <- num * -1 # Convierte por -1 para invertir su signo
  
  print("Ahora el n√∫mero es positivo.")
}
print(num)
```

</br>
El siguiente bloque de c√≥digo es el mismo que el anterior, pero contiene una instrucci√≥n para aquellos casos en los que no se cumpla la condici√≥n inicial.
```{r}
num <- 8
if (num < 0) {
  print("El n√∫mero es negativo.")
  
  print("Lo volver√© positivo.")
  num <- num * -1 # Convierte por -1 para invertir su signo
  
  print("Ahora el n√∫mero es positivo.")
} else {
  print("Tu n√∫mero siempre fue positivo.")
}
print(num)
```

</br>

## ü§∏Ô∏è Ejercicio #2
1. ¬øCu√°l ser√° el valor de ```x``` despu√©s de ejecutar el siguiente c√≥digo?
```{r}
x <- 1
if (x == 1) {
  x <- 2
  if (x == 1) {
    x <- 3
  }
}
```
2. Utilice instrucciones ```if``` y ```else``` para evaluar si la media de pobalaci√≥n en el ejercicio anterior es mayor o igual que 30. En caso de que lo sea, imprima "La media de poblaci√≥n es mayor o igual que 30.", y en caso contrario, imprima un mensaje acorde. 

<br/>

## 2.6. Iterando

El siguiente bloque de c√≥digo itera sobre todos los elementos de un vector e imprime el contenido de cada uno de estos.
<br/>
```{r message=TRUE}
mi_vector <- c(1, 2, 4, 5, 6, "siete", "ocho")
for (i in mi_vector) {
  print(i)
}
```

<br/>

## ü§æÔ∏è Ejercicio #3
1. ¬øQu√© imprimir√° el siguiente ciclo ```for```?
```{r}
mi_vector <- c(1, 2, 4, 5, 6)
for (i in mi_vector) {
  # print(i + 1)
}
```
2. Imagine que le reportan que ha habido un error en el censo de poblaci√≥n de Z: a todas las edades menor o igual a 30, les han sumado 1 a√±o de edad. Utilice instrucciones ```for```, ```if``` y ```else``` (en caso de ser necesario) para corregir el vector de edades que ya hab√≠a almacenado. 

<br/>

## 2.7. Una primer funci√≥n

El siguiente bloque de c√≥digo equivale a una funci√≥n que invierte el signo de un n√∫mero.
<br/>
```{r message=TRUE}
invierte_signo <- function(x){
  x * -1
}
```

<br/>
```{r message=TRUE}
invierte_signo(-1)
```

<br/>
```{r message=TRUE}
invierte_signo(2)
```

<br/>

## üèÑÔ∏è Ejercicio #4
1. Cree un funci√≥n que tome una muestra aleatoria de tama√±o ```n``` del vector de edades corregidas del censo de poblaci√≥n de Z y calcule su media, dado un factor de expansi√≥n ```e```.  
Bonus: Verifique que ```n``` sea menor al tama√±o de la poblaci√≥n total de Z.

<center>
![](https://4.bp.blogspot.com/-IZGPPv86U-w/WbVnsg7wS7I/AAAAAAAAF6M/h3LMSxxjUAUz9CC6xhePmUacE8cr_6bPACLcBGAs/s1600/When-Waiter-Asks-You-Need-Moment-Look-Over-Menu-Youre-Just-Like.gif)
</center>
